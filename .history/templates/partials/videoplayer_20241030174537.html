<!-- videoplayer.html -->
{% load static %}
<link rel="stylesheet" href="{% static 'css/videoplayer.css' %}" />
<div class="custom-video-player" data-video-id="{{ project.id }}">
  <div class="video-container">
    <!-- In videoplayer.html -->
    <video
      preload="metadata"
      {%
      if
      project.video_thumbnail
      %}
      poster="{{ project.video_thumbnail.url }}"
      {%
      endif
      %}
      playsinline
      crossorigin="anonymous"
    >
      <source src="{{ project.video.url }}" type="video/mp4" />
      <source
        src="{{ project.video.url|slice:':-4' }}.webm"
        type="video/webm"
      />
      Your browser doesn't support video playback.
    </video>

    <div class="loading-spinner">
      <div class="spinner"></div>
    </div>
  </div>

  <div class="video-controls">
    <button class="play-pause" aria-label="Play/Pause">
      <i class="fas fa-play"></i>
    </button>

    <div class="progress-container">
      <div class="progress-bar">
        <div class="progress-bar-filled"></div>
      </div>
      <div class="time">
        <span class="current-time">0:00</span>
        <span>/</span>
        <span class="duration">0:00</span>
      </div>
    </div>

    <div class="volume-control">
      <button class="mute-unmute" aria-label="Mute/Unmute">
        <i class="fas fa-volume-up"></i>
      </button>
      <input
        type="range"
        class="volume-slider"
        min="0"
        max="1"
        step="0.1"
        value="1"
        aria-label="Volume"
      />
    </div>

    <button class="fullscreen" aria-label="Fullscreen">
      <i class="fas fa-expand"></i>
    </button>
  </div>
</div>
<script src="{% static 'javascript/videoplayer.js' %}"></script>
